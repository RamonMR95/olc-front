<button
  *ngIf="!create && isTeacher()"
  mat-raised-button
  (click)="toggleCreate()"
  class="news-bg-color text-white"
>
  Create news
</button>

<mat-card *ngIf="create">
  <mat-card-title>Create NEWS</mat-card-title>
  <mat-card-content>
    <form [formGroup]="form">
      <div class="col">
        <div>
          <mat-form-field class="mat-input-size">
            <mat-label>Title</mat-label>
            <input matInput name="title" formControlName="title" required />
          </mat-form-field>
        </div>
        <div>
          <mat-form-field class="mat-input-size-content">
            <mat-label>Content</mat-label>
            <textarea
              matInput
              name="content"
              rows="8"
              formControlName="content"
              required
            ></textarea>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field>
            <mat-label>Writer</mat-label>
            <input matInput name="writer" formControlName="writer" required />
          </mat-form-field>
        </div>
      </div>
    </form>
  </mat-card-content>
  <button
    mat-raised-button
    (click)="createNews()"
    color="primary"
    class="mx-2"
    [disabled]="!form.valid"
  >
    Create
  </button>
  <button mat-raised-button (click)="toggleCreate()" color="warn">
    Cancel
  </button>
</mat-card>

<div class="py-5" *ngIf="!create">
  <mat-card class="news-bg-color">
    <mat-card-header>
      <mat-card-title class="text-white">News</mat-card-title>
    </mat-card-header>
    <mat-card-content *ngFor="let n of news">
      <mat-card>
        <mat-card-header>
          <mat-card-title>{{ n.title }}</mat-card-title>
          <mat-card-subtitle
            >{{ n.writer }} - {{ n.createdAt | date: "yyyy/MM/dd"}}</mat-card-subtitle
          >
        </mat-card-header>
        <mat-card-content>{{ n.content }}</mat-card-content>
      </mat-card>
    </mat-card-content>
  </mat-card>
</div>
